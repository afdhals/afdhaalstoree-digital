<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Penjualan Kuota XL Axis - Paket Akrab</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .logo-section {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            padding: 20px;
            text-align: center;
            border-bottom: 3px solid #6366f1;
        }

        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 15px;
        }

        .logo-placeholder {
            width: 120px;
            height: 80px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px dashed rgba(255, 255, 255, 0.5);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.9em;
            text-align: center;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .logo-placeholder:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.8);
        }

        .logo-xl {
        background: ('https://c.top4top.io/p_3437tdp9s0.png') center/contain no-repeat;
        }
        .logo-text {
            color: white;
            font-size: 1.1em;
            opacity: 0.9;
        }

        .header {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            color: white;
            text-align: center;
            padding: 40px 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/><circle cx="10" cy="60" r="0.5" fill="white" opacity="0.1"/><circle cx="90" cy="40" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .header h1 {
            font-size: 2.8em;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.3em;
            opacity: 0.95;
            position: relative;
            z-index: 1;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .packages {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            padding: 40px;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        }

        .package {
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            background: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .package:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(59, 130, 246, 0.15);
            border-color: #3b82f6;
        }

        .package::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        }

        .package-title {
            font-size: 1.8em;
            color: #1e293b;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .package-duration {
            background: linear-gradient(135deg, #ede9fe 0%, #ddd6fe 100%);
            padding: 12px;
            border-radius: 10px;
            margin-bottom: 20px;
            color: #5b21b6;
            font-weight: bold;
            border: 1px solid #c4b5fd;
        }

        .package-details {
            margin: 20px 0;
        }

        .area-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            margin: 8px 0;
            background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
            border-radius: 8px;
            border-left: 4px solid #3b82f6;
            transition: all 0.3s ease;
        }

        .area-item:hover {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            border-left-color: #1d4ed8;
        }

        .area-name
                .area-name {
            font-weight: bold;
            color: #1e293b;
        }

        .area-quota {
            color: #3b82f6;
            font-weight: bold;
            font-size: 1.1em;
        }

        .package-price {
            font-size: 2em;
            color: #8b5cf6;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .btn {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            margin: 10px;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
            background: linear-gradient(135deg, #1d4ed8 0%, #7c3aed 100%);
        }

        /* Area Checker Section */
        .area-checker {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            padding: 40px;
            border-top: 1px solid #e2e8f0;
        }

        .area-checker h2 {
            text-align: center;
            margin-bottom: 30px;
            color: #1e293b;
            font-size: 2em;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .checker-form {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.1);
            border: 1px solid #e2e8f0;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #1e293b;
        }

        .form-group select, .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
            background: white;
        }

        .form-group select:focus, .form-group input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .check-btn {
            width: 100%;
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .check-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
            background: linear-gradient(135deg, #1d4ed8 0%, #7c3aed 100%);
        }

        .area-result {
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            color: white;
            border-radius: 15px;
            text-align: center;
            display: none;
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.3);
        }

        .area-result h3 {
            font-size: 1.8em;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }

        .quota-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .quota-card {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
            transition: all 0.3s ease;
        }

        .quota-card:hover {
            background: rgba(255,255,255,0.3);
            transform: translateY(-2px);
        }

        .quota-card h4 {
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .quota-amount {
            font-size: 2em;
            font-weight: bold;
        }

        /* Payment Methods Section */
        .payment-section {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border: 1px solid #f59e0b;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 40px;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.2);
        }

        .payment-section h3 {
            color: #92400e;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.8em;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }

        .payment-methods-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .payment-method {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .payment-method:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
            border-color: #3b82f6;
        }

        .payment-method h4 {
            color: #1e293b;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .payment-number {
            font-size: 1.5em;
            font-weight: bold;
            color: #3b82f6;
            margin: 10px 0;
            padding: 10px;
            background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
            border-radius: 8px;
            border: 2px dashed #3b82f6;
        }

        .payment-name {
            color: #64748b;
            font-style: italic;
            margin-top: 10px;
        }

        .payment-instruction {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-top: 20px;
            border: 2px solid #3b82f6;
            text-align: center;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.1);
        }

        .payment-instruction h4 {
            color: #1e293b;
            margin-bottom: 15px;
            font-size: 1.4em;
        }

        .whatsapp-number {
            font-size: 1.8em;
            font-weight: bold;
            color: #25D366;
            margin: 15px 0;
            padding: 15px;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
            border-radius: 10px;
            border: 2px solid #25D366;
        }

        .instruction-steps {
            text-align: left;
            margin: 20px 0;
        }

        .instruction-steps ol {
            padding-left: 20px;
        }

        .instruction-steps li {
            margin: 10px 0;
            color: #475569;
            line-height: 1.6;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .modal-header {
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            color: white;
            padding: 20px;
            border-radius: 15px 15px 0 0;
            text-align: center;
            position: relative;
        }

        .modal-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .modal-header h2 {
            position: relative;
            z-index: 1;
        }

        .modal-body {
            padding: 30px;
        }

        .close {
            color: white;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
            position: relative;
            z-index: 2;
        }

        .close:hover {
            opacity: 0.7;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .payment-option {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .payment-option:hover, .payment-option.selected {
            border-color: #3b82f6;
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.2);
        }

        .order-summary {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid #e2e8f0;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .summary-total {
            border-top: 2px solid #e2e8f0;
            padding-top: 15px;
            font-weight: bold;
            font-size: 1.2em;
            color: #8b5cf6;
        }

        .payment-btn {
            width: 100%;
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .payment-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }

        .payment-btn:disabled {
            background: #94a3b8;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .success-message {
            display: none;
            text-align: center;
            padding: 30px;
            color: #059669;
        }

        .success-icon {
            font-size: 4em;
            margin-bottom: 15px;
        }

        /* Order History Styles */
        .order-history {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            padding: 40px;
            border-top: 1px solid #e2e8f0;
        }

        .order-history h2 {
            text-align: center;
            margin-bottom: 30px;
            color: #1e293b;
        }

        .order-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .order-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.15);
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .order-id {
            font-weight: bold;
            color: #3b82f6;
        }

        .order-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        .status-pending {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            color: #92400e;
        }

        .status-completed {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            color: #065f46;
        }

        .clear-history {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .clear-history:hover {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            transform: translateY(-1px);
        }

        @media (max-width: 768px) {
            .packages {
                grid-template-columns: 1fr;
                padding: 20px;
            }
            
            .header h1 {
                font-size: 2.2em;
            }
            
            .modal-content {
                width: 95%;
                margin: 10% auto;
            }
            
            .payment-methods {
                grid-template-columns: repeat(2, 1fr);
            }

            .order-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            .payment-methods-grid {
                grid-template-columns: 1fr;
            }

            .payment-section {
                margin: 20px;
                padding: 20px;
            }

            .quota-info {
                grid-template-columns: 1fr;
            }

            .logo-container {
                flex-direction: column;
                gap: 15px;
            }

            .logo-placeholder {
                width: 100px;
                height: 60px;
            }
        }
    </style>
</head>
<body>
           <center><div class="logo-text">
                üì± Provider Terpercaya Indonesia
            </div>
<div>
<a href="https://ibb.co/WpdvxNQs"><img src="https://i.ibb.co/WpdvxNQs/Tanpa-judul-1024-x-1024-piksel-20250530-124814-0000.png" alt="Tanpa-judul-1024-x-1024-piksel-20250530-124814-0000" border="0"></a>
            </div></center>
        </div>
        <div class="header">
            <h1>üöÄ Kuota XL Axis</h1>
            <p>Paket Internet Murah & Berkualitas Terbaik</p>
        </div>

        <div class="packages">
            <!-- Paket BIG -->
            <div class="package">
                <div class="package-title">üì± PAKET AKRAB XL (BIG)</div>
                <div class="package-duration">‚è∞ MASA AKTIF 29 HARI</div>
                
                <div class="package-details">
                    <div class="area-item">
                        <span class="area-name">AREA 4</span>
                        <span class="area-quota">74GB</span>
                    </div>
                    <div class="area-item">
                        <span class="area-name">AREA 3</span>
                        <span class="area-quota">50GB</span>
                    </div>
                    <div class="area-item">
                        <span class="area-name">AREA 2</span>
                        <span class="area-quota">39GB</span>
                    </div>
                    <div class="area-item">
                        <span class="area-name">AREA 1</span>
                        <span class="area-quota">36,5GB</span>
                    </div>
                </div>
                
                <div class="package-price">üí∞ Rp 59.000</div>
                <button class="btn" onclick="openPaymentModal('PAKET AKRAB XL (BIG)', 59000)">Beli Sekarang</button>
            </div>

            <!-- Paket JUMBO -->
            <div class="package">
                <div class="package-title">üì± PAKET AKRAB XXL (JUMBO)</div>
                <div class="package-duration">‚è∞ MASA AKTIF 29 HARI</div>
                
                <div class="package-details">
                    <div class="area-item">
                        <span class="area-name">AREA 4</span>
                        <span class="area-quota">125GB</span>
                    </div>
                    <div class="area-item">
                        <span class="area-name">AREA 3</span>
                        <span class="area-quota">85GB</span>
                    </div>
                    <div class="area-item">
                        <span class="area-name">AREA 2</span>
                        <span class="area-quota">72GB</span>
                    </div>
                    <div class="area-item">
                        <span class="area-name">AREA 1</span>
                        <span class="area-quota">50GB</span>
                    </div>
                </div>
                
                <div class="package-price">üí∞ Rp 74.000</div>
                <button class="btn" onclick="openPaymentModal('PAKET AKRAB XXL (JUMBO)', 77000)">Beli Sekarang</button>
            </div>
        </div>

        <!-- Area Checker Section -->
        <div class="area-checker">
            <h2>üîç Cek Area Anda</h2>
            <div class="checker-form">
                <div class="form-group">
                    <label for="provinceSelect">Pilih Provinsi:</label>
                    <select id="provinceSelect" onchange="loadCities()">
                        <option value="">-- Pilih Provinsi --</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="citySelect">Pilih Kabupaten/Kota:</label>
                    <select id="citySelect" disabled>
                        <option value="">-- Pilih Kabupaten/Kota --</option>
                    </select>
                </div>
                
                <button class="check-btn" onclick="checkArea()">üîç Cek Area</button>
                
                <div id="areaResult" class="area-result">
                    <h3 id="areaTitle"></h3>
                    <p id="areaDescription"></p>
                    <div class="quota-info">
                        <div class="quota-card">
                            <h4>üì± PAKET BIG</h4>
                            <div class="quota-amount" id="bigQuota"></div>
                        </div>
                        <div class="quota-card">
                            <h4>üì± PAKET JUMBO</h4>
                            <div class="quota-amount" id="jumboQuota"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Payment Methods Section -->
        <div class="payment-section">
            <h3>üí≥ Metode Pembayaran</h3>
            <div class="payment-methods-grid">
                <div class="payment-method">
                    <h4>üí∞ DANA / GoPay</h4>
                    <div class="payment-number">087777626887</div>
                    <div class="payment-name">A.N: Afdhal Kamaruddin</div>
                </div>
                <div class="payment-method">
                    <h4>üè¶ SeaBank</h4>
                    <div class="payment-number">901052644893</div>
                    <div class="payment-name">A.N: Afdhal Kamaruddin</div>
                </div>
                <div class="payment-method">
                    <h4>üèõÔ∏è BRI</h4>
                    <div class="payment-number">508701006629504</div>
                    <div class="payment-name">A.N: Afdhal Kamaruddin</div>
                </div>
            </div>

            <!-- Payment Instruction Section -->
            <div class="payment-instruction">
                <h4>üì∏ Kirim Bukti Pembayaran</h4>
                <p style="margin-bottom: 15px;">Setelah transfer, kirim foto bukti pembayaran ke:</p>
                <div class="whatsapp-number">üì± 087777626887</div>
                
                <div class="instruction-steps">
                    <ol>
                        <li><strong>Transfer</strong> sesuai nominal paket yang dipilih</li>
                        <li><strong>Screenshot</strong> atau foto bukti transfer</li>
                        <li><strong>Kirim foto</strong> ke WhatsApp: 087777626887</li>
                        <li><strong>Sertakan</strong> nama dan nomor HP yang akan diisi kuota</li>
                        <li><strong>Tunggu konfirmasi</strong> dari admin (maks 1x24 jam)</li>
                    </ol>
                </div>
                
                <p style="color: #64748b; font-style: italic; margin-top: 15px;">
                    üí° Pastikan nomor HP sudah terdaftar di jaringan XL/Axis sebelum pembelian
                </p>
            </div>
        </div>

        <!-- Order History Section -->
        <div class="order-history">
            <h2>üìã Riwayat Pesanan</h2>
            <div id="orderHistoryContainer">
                <p style="text-align: center; color: #64748b;">Belum ada pesanan</p>
            </div>
            <div style="text-align: center;">
                <button class="clear-history" onclick="clearOrderHistory()">üóëÔ∏è Hapus Riwayat</button>
            </div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="close" onclick="closePaymentModal()">&times;</span>
                <h2>üí≥ Form Pemesanan</h2>
            </div>
            <div class="modal-body">
                <div id="paymentForm">
                    <div class="order-summary">
                        <h3>üìã Ringkasan Pesanan</h3>
                        <div class="summary-row">
                            <span>Paket:</span>
                            <span id="selectedPackage"></span>
                        </div>
                        <div class="summary-row summary-total">
                            <span>Total:</span>
                            <span id="totalPrice"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="customerName">Nama Lengkap *</label>
                        <input type="text" id="customerName" required placeholder="Masukkan nama lengkap">
                    </div>

                    <div class="form-group">
                        <label for="customerPhone">Nomor HP yang akan diisi kuota *</label>
                        <input type="tel" id="customerPhone" required placeholder="08xxxxxxxxxx">
                    </div>

                    <div class="form-group">
                        <label for="customerEmail">Email (Opsional)</label>
                        <input type="email" id="customerEmail" placeholder="email@example.com">
                    </div>

                    <div class="form-group">
                        <label>Pilih Metode Pembayaran *</label>
                        <div class="payment-methods">
                            <div class="payment-option" onclick="selectPayment('dana')" data-method="dana">
                                <div style="font-size: 2em;">üí∞</div>
                                <div>DANA</div>
                            </div>
                            <div class="payment-option" onclick="selectPayment('gopay')" data-method="gopay">
                                <div style="font-size: 2em;">üü¢</div>
                                <div>GoPay</div>
                            </div>
                            <div class="payment-option" onclick="selectPayment('seabank')" data-method="seabank">
                                <div style="font-size: 2em;">üè¶</div>
                                <div>SeaBank</div>
                            </div>
                            <div class="payment-option" onclick="selectPayment('bri')" data-method="bri">
                                <div style="font-size: 2em;">üèõÔ∏è</div>
                                <div>BRI</div>
                            </div>
                        </div>
                    </div>

                    <button class="payment-btn" onclick="processPayment()" id="payBtn" disabled>
                        üîí Pesan Sekarang
                    </button>
                </div>

                <div id="loadingSection" class="loading">
                    <div class="spinner"></div>
                    <h3>Mengirim Pesanan...</h3>
                    <p>Mohon tunggu, jangan tutup halaman ini</p>
                </div>

                <div id="successSection" class="success-message">
                    <div class="success-icon">‚úÖ</div>
                    <h3>Pesanan Berhasil Dikirim!</h3>
                    <p>Pesanan Anda telah dikirim ke WhatsApp admin.</p>
                    <p><strong>Jangan lupa kirim bukti pembayaran ke WhatsApp: 087777626887</strong></p>
                    <button class="btn" onclick="closePaymentModal()" style="margin-top: 20px;">Tutup</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        let selectedPackageName = '';
        let selectedPackagePrice = 0;
        let selectedPaymentMethod = '';

        // Area data dengan daerah lengkap
        const areaData = {
            "Area 1": {
                "DI Yogyakarta": ["Kab. Kulon Progo", "Kota Yogyakarta", "Kab. Sleman", "Kab. Bantul", "Kab. Gunungkidul"],
                "Jawa Barat": ["Kab. Bandung", "Kab. Kuningan", "Kab. Purwakarta", "Kota Bandung"],
                "Bali": ["Kab. Jembrana", "Kab. Buleleng"]
            },
            "Area 2": {
                "Banten": ["Kota Tangerang Selatan", "Kota Tangerang", "Kab. Tangerang", "Kab. Pandeglang", "Kab. Lebak", "Kab. Serang", "Kota Serang", "Kota Cilegon"],
                "DKI Jakarta": ["Kota Jakarta Pusat", "Kota Jakarta Selatan", "Kota Jakarta Barat", "Kota Jakarta Timur", "Kota Jakarta Utara"],
                "Bali": ["Kab. Badung", "Kab. Karangasem", "Kab. Tabanan", "Kab. Bangli", "Kab. Gianyar", "Kab. Klungkung", "Kota Denpasar"],
                "Nusa Tenggara Barat": ["Kab. Lombok Barat", "Kab. Lombok Timur", "Kota Mataram", "Kab. Lombok Tengah", "Kab. Lombok Utara", "Kab. Sumbawa Barat", "Kab. Sumbawa", "Kota Bima", "Kab. Dompu"],
                "Jawa Barat": ["Kab. Bandung Barat", "Kota Cimahi", "Kab. Cirebon", "Kota Cirebon", "Kab. Indramayu", "Kab. Subang"],
                "Jawa Tengah": ["Kab. Tegal", "Kota Surakarta", "Kota Tegal", "Kab. Brebes", "Kab. Kebumen", "Kab. Pemalang", "Kota Semarang"],
                "Jawa Timur": ["Kota Probolinggo", "Kab. Bangkalan", "Kab. Sidoarjo", "Kab. Bondowoso", "Kota Sidoarjo", "Kab. Sampang", "Kab. Pamekasan", "Kab. Sumenep", "Kab. Pacitan"],
                "Kalimantan Selatan": ["Kab. Hulu Sungai Tengah", "Kab. Tapin", "Kab. Hulu Sungai Utara", "Kab. Tabalong", "Kota Banjarmasin", "Kab. Banjar", "Kab. Tanah Bumbu", "Kota Banjarbaru", "Kab. Hulu Sungai Selatan"],
                "Sulawesi Barat": ["Kab. Mamuju Tengah"],
                "Sulawesi Selatan": ["Kab. Barru", "Kota Pare Pare", "Kab. Pinrang"],
                "Sulawesi Tenggara": ["Kab. Konawe Kepulauan", "Kab. Konawe Utara", "Kab. Buton Utara", "Kab. Wakatobi"],
                "Nanggroe Aceh Darussalam": ["Kab. Aceh Barat Daya", "Kab. Aceh Besar", "Kota Sabang", "Kab. Gayo Lues"],
                "Riau": ["Kota Pekanbaru"],
                "Sumatera Barat": ["Kab. Kepulauan Mentawai"],
                "Sumatera Utara": ["Kab. Karo", "Kota Medan", "Kab. Dairi"],
                "Jambi": ["Kab. Batanghari", "Kota Jambi", "Kab. Tanjung Jabung Barat", "Kab. Muaro Jambi", "Kab. Sarolangun"],
                "Kepulauan Bangka Belitung": ["Kab. Bangka Selatan", "Kota Pangkal Pinang", "Kab. Belitung", "Kab. Belitung Timur"],
                "Kepulauan Riau": ["Kota Batam"],
                "Lampung": ["Kab. Lampung Tengah", "Kab. Lampung Utara", "Kota Metro", "Kab. Pesawaran", "Kab. Lampung Selatan", "Kota Bandar Lampung"]
            },
            "Area 3": {
                "DKI Jakarta": ["Kab. Kepulauan Seribu"],
                               "Jawa Barat": ["Kab. Bogor", "Kota Bogor", "Kota Depok", "Kota Bekasi", "Kota Banjar", "Kab. Ciamis", "Kota Tasikmalaya", "Kab. Majalengka", "Kab. Sumedang", "Kab. Bekasi", "Kab. Tasikmalaya", "Kab. Garut"],
                "Jawa Tengah": ["Kab. Boyolali", "Kota Salatiga", "Kab. Semarang", "Kab. Grobogan", "Kab. Kendal", "Kab. Rembang"],
                "Jawa Timur": ["Kab. Lumajang", "Kab. Probolinggo"],
                "Kalimantan Selatan": ["Kab. Balangan", "Kab. Barito Kuala", "Kab. Tanah Laut", "Kab. Kotabaru"],
                "Kalimantan Tengah": ["Kab. Kapuas", "Kab. Pulang Pisau", "Kota Palangkaraya"],
                "Sulawesi Barat": ["Kab. Majene", "Kab. Polewali Mandar", "Kab. Mamuju Utara"],
                "Sulawesi Selatan": ["Kab. Sinjai", "Kab. Enrekang", "Kab. Sidenreng Rappang", "Kab. Luwu Timur", "Kab. Soppeng", "Kab. Tana Toraja"],
                "Sulawesi Tengah": ["Kab. Banggai Kepulauan", "Kab. Banggai Laut", "Kota Palu", "Kab. Toli Toli", "Kab. Tojo Una-Una", "Kab. Morowali", "Kab. Morowali Utara"],
                "Sulawesi Tenggara": ["Kota Bau Bau", "Kab. Muna", "Kab. Buton Selatan", "Kab. Buton Tengah", "Kab. Muna Barat"],
                "Nanggroe Aceh Darussalam": ["Kab. Aceh Jaya", "Kab. Aceh Selatan", "Kab. Aceh Tenggara", "Kab. Nagan Raya", "Kota Banda Aceh"],
                "Riau": ["Kab. Kuantan Singingi", "Kab. Pelalawan", "Kab. Kampar", "Kab. Siak", "Kota Dumai", "Kab. Rokan Hilir", "Kab. Indragiri Hulu", "Kab. Kepulauan Meranti", "Kab. Bengkalis"],
                "Sumatera Barat": ["Kota Payakumbuh", "Kota Padang Panjang", "Kab. Sijunjung", "Kab. Padang Pariaman", "Kota Pariaman", "Kab. Solok Selatan"],
                "Sumatera Selatan": ["Kab. Ogan Komering Ilir", "Kab. Penukal Abab Lematang Ilir", "Kab. Banyuasin", "Kota Palembang", "Kab. Ogan Ilir"],
                "Sumatera Utara": ["Kota Binjai", "Kota Tebing Tinggi", "Kab. Serdang Bedagai", "Kab. Langkat", "Kab. Deli Serdang", "Kab. Batu Bara", "Kota Tanjung Balai", "Kab. Asahan", "Kota Gunungsitoli", "Kab. Nias Barat", "Kab. Nias Selatan", "Kab. Nias Utara"],
                "Bengkulu": ["Kab. Seluma"],
                "Kepulauan Riau": ["Kab. Karimun", "Kab. Bintan", "Kota Tanjung Pinang"]
            },
            "Area 4": {
                "Nusa Tenggara Barat": ["Kab. Bima"],
                "Nusa Tenggara Timur": ["Kab. Alor", "Kota Kupang", "Kab. Kupang", "Kab. Malaka", "Kab. Manggarai Barat", "Kab. Timor Tengah Selatan", "Kab. Belu", "Kab. Sikka", "Kab. Timor Tengah Utara", "Kab. Lembata", "Kab. Manggarai Timur", "Kab. Ende", "Kab. Sumba Barat Daya", "Kab. Rote Ndao", "Kab. Nagekeo", "Kab. Flores Timur", "Kab. Ngada", "Kab. Sumba Tengah", "Kab. Manggarai", "Kab. Sumba Barat", "Kab. Sumba Timur", "Kab. Sabu Raijua"],
                "Jawa Barat": ["Kab. Cianjur", "Kab. Pangandaran", "Kab. Karawang", "Kota Sukabumi", "Kab. Sukabumi"],
                "Jawa Tengah": ["Kota Pekalongan", "Kab. Pekalongan", "Kab. Batang", "Kab. Purbalingga", "Kab. Kudus", "Kab. Sukoharjo", "Kab. Klaten", "Kota Magelang", "Kab. Banyumas", "Kab. Magelang", "Kab. Temanggung", "Kab. Sragen", "Kab. Banjarnegara", "Kab. Karanganyar", "Kab. Wonosobo", "Kab. Jepara", "Kab. Demak", "Kab. Purworejo", "Kab. Blora", "Kab. Wonogiri", "Kab. Pati"],
                "Jawa Timur": ["Kab. Jombang", "Kota Blitar", "Kab. Blitar", "Kota Kediri", "Kab. Lamongan", "Kab. Kediri", "Kab. Ngawi", "Kab. Magetan", "Kab. Mojokerto", "Kab. Gresik", "Kab. Tulungagung", "Kab. Nganjuk", "Kab. Pasuruan", "Kota Pasuruan", "Kab. Bojonegoro", "Kab. Madiun", "Kab. Tuban", "Kota Madiun", "Kab. Situbondo", "Kab. Jember", "Kota Malang", "Kab. Malang", "Kab. Ponorogo", "Kota Batu", "Kab. Trenggalek"],
                "Kalimantan Barat": ["Kab. Sekadau", "Kab. Kapuas Hulu", "Kab. Sintang", "Kab. Bengkayang", "Kab. Melawi", "Kab. Sambas", "Kab. Sanggau", "Kab. Kubu Raya", "Kota Pontianak", "Kab. Kayong Utara", "Kab. Landak", "Kab. Mempawah", "Kota Singkawang", "Kab. Ketapang"],
                "Kalimantan Tengah": ["Kab. Seruyan", "Kab. Kotawaringin Barat", "Kab. Katingan", "Kab. Kotawaringin Timur", "Kab. Sukamara", "Kab. Lamandau", "Kab. Murung Raya", "Kab. Barito Timur", "Kab. Barito Utara", "Kab. Barito Selatan", "Kab. Gunung Mas"],
                "Kalimantan Timur": ["Kab. Penajam Paser Utara", "Kota Balikpapan", "Kab. Paser", "Kab. Kutai Kartanegara", "Kota Samarinda", "Kota Bontang", "Kab. Berau", "Kab. Kutai Timur", "Kab. Kutai Barat", "Kab. Mahakam Ulu"],
                "Kalimantan Utara": ["Kab. Tana Tidung", "Kab. Malinau", "Kab. Bulungan", "Kota Tarakan", "Kab. Nunukan"],
                "Gorontalo": ["Kab. Pahuwato", "Kab. Boalemo", "Kab. Gorontalo", "Kota Gorontalo", "Kab. Gorontalo Utara", "Kab. Bone Bolango"],
                "Sulawesi Barat": ["Kab. Mamuju", "Kab. Mamasa"],
                "Sulawesi Selatan": ["Kab. Kepulauan Selayar", "Kab. Takalar", "Kab. Jeneponto", "Kab. Bulukumba", "Kab. Pangkajene Kepulauan", "Kota Makassar", "Kab. Gowa", "Kab. Maros", "Kab. Bone", "Kab. Wajo", "Kab. Luwu", "Kab. Luwu Utara", "Kota Palopo", "Kab. Toraja Utara"],
                "Sulawesi Tengah": ["Kab. Banggai", "Kab. Parigi Moutong", "Kab. Donggala", "Kab. Sigi", "Kab. Poso", "Kab. Buol"],
                "Sulawesi Tenggara": ["Kab. Kolaka", "Kab. Kolaka Utara", "Kab. Konawe", "Kab. Konawe Selatan", "Kota Kendari", "Kab. Kolaka Timur", "Kab. Buton", "Kab. Bombana"],
                "Sulawesi Utara": ["Kab. Bolaang Mongondow", "Kab. Bolaang Mongondow Selatan", "Kota Kotamobagu", "Kab. Minahasa Selatan", "Kab. Bolaang Mongondow Timur", "Kab. Minahasa Tenggara", "Kab. Bolaang Mongondow Utara", "Kota Tomohon", "Kab. Minahasa", "Kota Manado", "Kab. Minahasa Utara", "Kota Bitung", "Kab. Kepulauan Sangihe", "Kab. Kepulauan Talaud", "Kab. Siau Tagulandang Biaro"],
                "Nanggroe Aceh Darussalam": ["Kab. Aceh Barat", "Kab. Aceh Singkil", "Kab. Aceh Tamiang", "Kab. Aceh Tengah", "Kota Subulussalam", "Kab. Bener Meriah", "Kab. Aceh Utara", "Kota Lhokseumawe", "Kab. Pidie", "Kab. Aceh Timur", "Kab. Simeulue", "Kota Langsa", "Kab. Bireuen", "Kab. Pidie Jaya"],
                "Riau": ["Kab. Rokan Hulu", "Kab. Indragiri Hilir"],
                "Sumatera Barat": ["Kab. Pasaman Barat", "Kab. Pasaman", "Kab. Lima Puluh Kota", "Kab. Tanah Datar", "Kab. Dharmasraya", "Kota Solok", "Kab. Agam", "Kab. Solok", "Kota Bukittinggi", "Kota Pariaman", "Kota Sawahlunto", "Kab. Pesisir Selatan"],
                "Sumatera Selatan": ["Kab. Ogan Komering Ulu Timur", "Kab. Ogan Komering Ulu Selatan", "Kab. Ogan Komering Ulu", "Kab. Musi Rawas", "Kab. Musi Rawas Utara", "Kab. Empat Lawang", "Kota Pagar Alam", "Kota Lubuk Linggau", "Kab. Musi Banyuasin", "Kab. Muara Enim", "Kab. Lahat", "Kota Prabumulih"],
                "Sumatera Utara": ["Kab. Pakpak Bharat", "Kab. Mandailing Natal", "Kab. Padang Lawas", "Kab. Labuhanbatu Utara", "Kota Padangsidimpuan", "Kab. Tapanuli Selatan", "Kab. Labuhanbatu Selatan", "Kab. Labuhanbatu", "Kab. Tapanuli Utara", "Kab. Padang Lawas Utara", "Kab. Humbang Hasundutan", "Kab. Samosir", "Kab. Toba Samosir", "Kota Pematangsiantar", "Kab. Tapanuli Tengah", "Kab. Simalungun", "Kota Sibolga", "Kab. Nias"],
                "Bengkulu": ["Kab. Bengkulu Selatan", "Kab. Kaur", "Kab. Lebong", "Kab. Rejang Lebong", "Kab. Bengkulu Tengah", "Kota Bengkulu", "Kab. Bengkulu Utara", "Kab. Kepahiang", "Kab. Muko Muko"],
                "Jambi": ["Kab. Tanjung Jabung Timur", "Kab. Kerinci", "Kab. Bungo", "Kab. Tebo", "Kab. Merangin", "Kota Sungai Penuh"],
                "Kepulauan Bangka Belitung": ["Kab. Bangka", "Kab. Bangka Tengah", "Kab. Bangka Barat"],
                "Kepulauan Riau": ["Kab. Lingga", "Kab. Kepulauan Anambas", "Kab. Natuna"],
                "Lampung": ["Kab. Lampung Barat", "Kab. Lampung Timur", "Kab. Tulang Bawang", "Kab. Way Kanan", "Kab. Tulang Bawang Barat", "Kab. Tanggamus", "Kab. Pringsewu", "Kab. Lampung Utara", "Kab. Mesuji"]
            }
        };

        // Initialize province dropdown
        function initializeProvinces() {
            const provinceSelect = document.getElementById('provinceSelect');
            const allProvinces = new Set();
            
            Object.values(areaData).forEach(area => {
                Object.keys(area).forEach(province => {
                    allProvinces.add(province);
                });
            });
            
            Array.from(allProvinces).sort().forEach(province => {
                const option = document.createElement('option');
                option.value = province;
                option.textContent = province;
                provinceSelect.appendChild(option);
            });
        }

        // Load cities based on selected province
        function loadCities() {
            const provinceSelect = document.getElementById('provinceSelect');
            const citySelect = document.getElementById('citySelect');
            const selectedProvince = provinceSelect.value;
            
            // Clear cities
            citySelect.innerHTML = '<option value="">-- Pilih Kabupaten/Kota --</option>';
            citySelect.disabled = !selectedProvince;
            
            if (selectedProvince) {
                const allCities = new Set();
                
                Object.values(areaData).forEach(area => {
                    if (area[selectedProvince]) {
                        area[selectedProvince].forEach(city => {
                            allCities.add(city);
                        });
                    }
                });
                
                Array.from(allCities).sort().forEach(city => {
                    const option = document.createElement('option');
                    option.value = city;
                    option.textContent = city;
                    citySelect.appendChild(option);
                });
            }
        }

        // Check area based on selected province and city
        function checkArea() {
            const provinceSelect = document.getElementById('provinceSelect');
            const citySelect = document.getElementById('citySelect');
            const selectedProvince = provinceSelect.value;
            const selectedCity = citySelect.value;
            
            if (!selectedProvince || !selectedCity) {
                alert('Mohon pilih provinsi dan kabupaten/kota terlebih dahulu!');
                return;
            }
            
            let foundArea = null;
            
            Object.entries(areaData).forEach(([areaName, provinces]) => {
                if (provinces[selectedProvince] && provinces[selectedProvince].includes(selectedCity)) {
                    foundArea = areaName;
                }
            });
            
            if (foundArea) {
                showAreaResult(foundArea, selectedProvince, selectedCity);
            } else {
                alert('Maaf, daerah Anda belum tercover oleh paket ini.');
            }
        }

        // Show area result
        function showAreaResult(area, province, city) {
            const areaResult = document.getElementById('areaResult');
            const areaTitle = document.getElementById('areaTitle');
            const areaDescription = document.getElementById('areaDescription');
            const bigQuota = document.getElementById('bigQuota');
            const jumboQuota = document.getElementById('jumboQuota');
            
            const quotaInfo = {
                "Area 1": { big: "36.5GB", jumbo: "50GB" },
                "Area 2": { big: "39GB", jumbo: "72GB" },
                "Area 3": { big: "50GB", jumbo: "85GB" },
                "Area 4": { big: "74GB", jumbo: "125GB" }
            };
            
            areaTitle.textContent = `üéØ ${area}`;
            areaDescription.innerHTML = `<strong>${city}, ${province}</strong> termasuk dalam ${area}`;
            bigQuota.textContent = quotaInfo[area].big;
            jumboQuota.textContent = quotaInfo[area].jumbo;
            
            areaResult.style.display = 'block';
            areaResult.scrollIntoView({ behavior: 'smooth' });
        }

        // Payment Modal Functions
        function openPaymentModal(packageName, price) {
            selectedPackageName = packageName;
            selectedPackagePrice = price;
            
            document.getElementById('selectedPackage').textContent = packageName;
            document.getElementById('totalPrice').textContent = 'Rp ' + formatPrice(price);
            document.getElementById('paymentModal').style.display = 'block';
            
            // Reset form
            resetPaymentForm();
        }

        function closePaymentModal() {
            document.getElementById('paymentModal').style.display = 'none';
            resetPaymentForm();
        }

        function resetPaymentForm() {
            document.getElementById('paymentForm').style.display = 'block';
            document.getElementById('loadingSection').style.display = 'none';
            document.getElementById('successSection').style.display = 'none';
            
            // Clear form
            document.getElementById('customerName').value = '';
            document.getElementById('customerPhone').value = '';
            document.getElementById('customerEmail').value = '';
            
            // Reset payment selection
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            selectedPaymentMethod = '';
            updatePayButton();
        }

        function selectPayment(method) {
            selectedPaymentMethod = method;
            
            // Remove previous selection
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Add selection to clicked option
            document.querySelector(`[data-method="${method}"]`).classList.add('selected');
            
            updatePayButton();
        }

        function updatePayButton() {
            const name = document.getElementById('customerName').value;
            const phone = document.getElementById('customerPhone').value;
            const payBtn = document.getElementById('payBtn');
            
            if (name && phone && selectedPaymentMethod) {
                payBtn.disabled = false;
                payBtn.textContent = `üí≥ Pesan ${formatPrice(selectedPackagePrice)} via ${selectedPaymentMethod.toUpperCase()}`;
            } else {
                payBtn.disabled = true;
                payBtn.textContent = 'üîí Lengkapi Data Terlebih Dahulu';
            }
        }

        function processPayment() {
            const customerName = document.getElementById('customerName').value;
            const customerPhone = document.getElementById('customerPhone').value;
            const customerEmail = document.getElementById('customerEmail').value;

            if (!customerName || !customerPhone || !selectedPaymentMethod) {
                alert('Mohon lengkapi semua data yang diperlukan!');
                return;
            }

            // Show loading
            document.getElementById('paymentForm').style.display = 'none';
            document.getElementById('loadingSection').style.display = 'block';

            // Simulate processing
            setTimeout(() => {
                // Hide loading
                document.getElementById('loadingSection').style.display = 'none';
                
                // Show success
                document.getElementById('successSection').style.display = 'block';
                
                // Send order to WhatsApp
                sendOrderToWhatsApp(customerName, customerPhone, customerEmail);
                
                // Save order to local storage
                saveOrderToHistory(customerName, customerPhone, customerEmail);
                
                // Update order history display
                displayOrderHistory();
                
            }, 2000);
        }

        // WhatsApp Integration
        function sendOrderToWhatsApp(name, phone, email) {
            const currentTime = new Date().toLocaleString('id-ID', {
                timeZone: 'Asia/Jakarta',
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });

            const paymentDetails = getPaymentDetails(selectedPaymentMethod);

            const message = `üéâ PESANAN BARU KUOTA XL AXIS!\n\n` +
                          `üì¶ Paket: ${selectedPackageName}\n` +
                          `üí∞ Harga: Rp ${formatPrice(selectedPackagePrice)}\n` +
                          `üë§ Nama: ${name}\n` +
                          `üì± Nomor HP: ${phone}\n` +
                          `üìß Email: ${email || 'Tidak ada'}\n` +
                          `üí≥ Metode Bayar: ${selectedPaymentMethod.toUpperCase()}\n` +
                          `üè¶ ${paymentDetails}\n` +
                          `‚è∞ Waktu Pesan: ${currentTime}\n\n` +
                          `üìã INSTRUKSI PEMBAYARAN:\n` +
                          `1Ô∏è‚É£ Transfer sesuai nominal ke rekening di atas\n` +
                          `2Ô∏è‚É£ Kirim foto bukti transfer ke nomor ini\n` +
                          `3Ô∏è‚É£ Tunggu konfirmasi dari admin\n` +
                          `4Ô∏è‚É£ Kuota akan diproses dalam 1x24 jam\n\n` +
                          `‚ö†Ô∏è PENTING:\n` +
                          `‚Ä¢ Pastikan nomor ${phone} sudah terdaftar XL/Axis\n` +
                          `‚Ä¢ Kirim bukti pembayaran untuk konfirmasi\n` +
                          `‚Ä¢ Simpan chat ini sebagai bukti pesanan\n\n` +
                          `üîó Sumber: Website Kuota XL Axis\n` +
                          `üìû CS: 087777626887`;
            
            // Open WhatsApp with auto message
            const whatsappUrl = `https://wa.me/6287777626887?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank');
            
            console.log('‚úÖ Pesan pesanan dikirim ke WhatsApp:', message);
        }

        function getPaymentDetails(method) {
            const paymentInfo = {
                'dana': 'DANA: 087777626887 A.N: Afdhal Kamaruddin',
                'gopay': 'GoPay: 087777626887 A.N: Afdhal Kamaruddin',
                'seabank': 'SeaBank: 901052644893 A.N: Afdhal Kamaruddin',
                'bri': 'BRI: 508701006629504 A.N: Afdhal Kamaruddin'
            };
            return paymentInfo[method] || 'Metode pembayaran tidak dikenal';
        }

        function saveOrderToHistory(name, phone, email) {
            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            const newOrder = {
                id: 'ORD-' + Date.now(),
                customerName: name,
                customerPhone: phone,
                customerEmail: email,
                packageName: selectedPackageName,
                packagePrice: selectedPackagePrice,
                paymentMethod: selectedPaymentMethod,
                timestamp: new Date().toISOString(),
                status: 'pending'
            };
            
            orders.unshift(newOrder);
            
            // Keep only last 10 orders
            if (orders.length > 10) {
                orders.splice(10);
            }
            
            localStorage.setItem('orders', JSON.stringify(orders));
        }

        function displayOrderHistory() {
            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            const container = document.getElementById('orderHistoryContainer');
            
            if (orders.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #64748b;">Belum ada pesanan</p>';
                return;
            }
            
            container.innerHTML = orders.map(order => `
                <div class="order-item">
                    <div class="order-header">
                        <span class="order-id">${order.id}</span>
                        <span class="order-status status-${order.status}">
                            ${order.status === 'pending' ? '‚è≥ Menunggu Konfirmasi' : '‚úÖ Selesai'}
                        </span>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <strong>${order.packageName}</strong> - Rp ${formatPrice(order.packagePrice)}
                    </div>
                    <div style="font-size: 0.9em; color: #64748b;">
                        üë§ ${order.customerName} | üì± ${order.customerPhone}<br>
                        üí≥ ${order.paymentMethod.toUpperCase()} | 
                        ‚è∞ ${new Date(order.timestamp).toLocaleString('id-ID')}
                    </div>
                </div>
            `).join('');
        }

        function clearOrderHistory() {
            if (confirm('Yakin ingin menghapus semua riwayat pesanan?')) {
                localStorage.removeItem('orders');
                displayOrderHistory();
            }
        }

        function formatPrice(price) {
            return new Intl.NumberFormat('id-ID').format(price);
        }

        // Event listeners
        document.getElementById('customerName').addEventListener('input', updatePayButton);
        document.getElementById('customerPhone').addEventListener('input', updatePayButton);

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('paymentModal');
            
            if (event.target == modal) {
                closePaymentModal();
            }
        }

        // Phone number formatting
        document.getElementById('customerPhone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            
            if (value.startsWith('62')) {
                value = '0' + value.substring(2);
            }
            
            if (value.length > 13) {
                value = value.substring(0, 13);
            }
            
            this.value = value;
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initializeProvinces();
            displayOrderHistory();
            
            // Initialize package animations
            const packages = document.querySelectorAll('.package');
            packages.forEach(package => {
                package.style.opacity = '0';
                package.style.transform = 'translateY(50px)';
                package.style.transition = 'all 0.6s ease';
            });
            
            // Animate packages on scroll
            window.addEventListener('scroll', function() {
                packages.forEach(package => {
                    const packageTop = package.getBoundingClientRect().top;
                    const packageVisible = 150;
                    
                    if (packageTop < window.innerHeight - packageVisible) {
                        package.style.opacity = '1';
                        package.style.transform = 'translateY(0)';
                    }
                });
            });
            
            // Trigger initial animation
            setTimeout(() => {
                packages.forEach(package => {
                    package.style.opacity = '1';
                    package.style.transform = 'translateY(0)';
                });
            }, 500);
        });

        // Auto-refresh order history every 30 seconds
        setInterval(displayOrderHistory, 30000);
    </script>
</body>
</html>
